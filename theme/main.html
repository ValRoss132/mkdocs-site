{% macro toc_loop(items) %} {% if items %}
<ul>
	{% for item in items %} {% if item.level < 4 %}
	<li class="toc-level-{{ item.level }}">
		<a href="{{ item.url }}">{{ item.title }}</a>
		{{ toc_loop(item.children) }}
	</li>
	{% endif %} {% endfor %}
</ul>
{% endif %} {% endmacro %}

<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="{{ config.site_description }}" />
		<meta name="author" content="{{ config.site_author }}" />
		<title>
			{% if page.title %}{{ page.title }} - {% endif %}{{ config.site_name }}
		</title>
		<link rel="stylesheet" href="{{ base_url }}/css/style.css" />
	</head>
	<body>
		<header class="site-header">
			<div class="container">
				<a href="{{ base_url }}" class="logo">{{ config.site_name }}</a>
				<nav class="main-nav">
					<ul>
						{% for nav_item in nav %}
						<li><a href="{{ nav_item.url|url }}">{{ nav_item.title }}</a></li>
						{% endfor %}
					</ul>
				</nav>
			</div>
		</header>

		<main class="site-main">
			<div class="container">
				<article class="content">
					{% block content %} {{ page.content }} {% endblock %}
				</article>

				{% if page.toc %}
				<aside class="sidebar">
					<h3>Содержание</h3>
					{{ toc_loop(page.toc) }}
				</aside>
				{% endif %}
			</div>
		</main>

		<footer class="site-footer">
			<div class="container">
				<p>&copy; 2024 {{ config.site_author }}. Все права защищены.</p>
				<p>Собрано с помощью MkDocs и GitHub Actions.</p>
			</div>
		</footer>
	</body>
</html>
